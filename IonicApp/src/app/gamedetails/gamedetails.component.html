<ion-backdrop *ngIf="showBackdrop" tappable="false"></ion-backdrop>
<ion-header *ngIf="currentGame">
  <ion-toolbar>
    <ion-img class="cover" [src]="currentGame.background_image">
    </ion-img>
    <ion-buttons slot="start">
      <ion-back-button color="success"></ion-back-button>
    </ion-buttons>
    <ion-title>
      {{currentGame.name}}
    </ion-title>
    <ion-button (click)="presentToast('Added to your wishlist!', 1500)"
      (click)="updateGameStatus(currentGame.id, 'toplay')" size="large" slot="end" class="wishlistButton">
      <ion-icon name="gift" [color]="wishlistButtonColor"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="currentGame">
  <div class="segmenter">
    <ion-segment #segment value="info" (ionChange)="segmentChanged($event, segment.value)" padding color="success"
      mode="ios">
      <ion-segment-button value="info" mode="ios">
        Info
      </ion-segment-button>
      <ion-segment-button value="description" mode="ios">
        Description
      </ion-segment-button>
    </ion-segment>
  </div>


  <ion-button mode="ios">
    <ion-select #statusSelect [value]="currentStatus" mode="ios" interface="action-sheet"
      (ionChange)="updateGameStatus(currentGame.id, statusSelect.value)"
      (ionChange)="presentToast('Added to ' + statusSelect.value + '!', 1500)">
      <ion-select-option mode="ios" *ngFor="let status of statusOptions">{{status}}</ion-select-option>
    </ion-select>
  </ion-button>

  <div>

    <div *ngIf="info">
      <ion-card>
        <div id="label" class="partition">
          <ion-label>Platforms: </ion-label>
        </div>
        <div id="names" class="partition">
          <ion-text class="platformName" *ngFor="let platforms of currentGame.platforms; let i = index">

            {{platforms.platform.name}}
            <ion-text *ngIf="i + 1 < currentGame.platforms.length">, </ion-text>
          </ion-text>
        </div>
      </ion-card>

      <!--
      <ion-card *ngFor="let screenshot of currentScreenshots">
        <img [src]="screenshot.image">
      </ion-card>
      -->
    </div>

    <ion-text *ngIf="description">
      <div class="descriptionText" [innerHTML]="currentGame.description"></div>
    </ion-text>
  </div>
</ion-content>